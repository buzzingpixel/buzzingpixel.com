{% extends 'Http/_Infrastructure/_LayoutDocumentation.twig' %}

{% block content %}
    {% apply smartypants %}
        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'System Requirements',
            level: 'h2',
        } only %}

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'General requirements',
            level: 'h3',
        } only %}
        <ul>
            <li>ExpressionEngine 3.5.0 or greater</li>
            <li>
                PHP 5.4.0 or newer compiled with GD (or GD 2) library
                <ul>
                    <li>ImageMagick is also supported if installed</li>
                </ul>
            </li>
            <li>MySQL 5.5.3 or newer</li>
            <li>
                At least 256 megabytes of memory allocated and available to PHP
                <ul>
                    <li>512 megabytes is recommended (and more if you can spare it). Manipulating images can take a lot of memory. And particularly, the larger image, the more memory it will take.</li>
                </ul>
            </li>
        </ul>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Control panel interface and entry field type use requirements',
            level: 'h3',
        } only %}
        <ul>
            <li>Internet Explorer 11 or greater</li>
            <li>Chrome (tested on version 55)</li>
            <li>Firefox (tested on version 50)</li>
            <li>Safari (Mac) (tested on version 10)</li>
        </ul>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Image optimization requirements',
            level: 'h3',
        } only %}
        <p>Ansel will also utilize various image optimization libraries if they are installed on the server and your PHP version is high enough. Here are the requirements for image optimization:

        </p>
        <ul>
            <li>PHP 5.5 or greater</li>
            <li><code>jpegoptim</code> for jpeg optimization</li>
            <li><code>gifsicle</code> for gif optimization</li>
            <li><code>optipng</code> for PNG optimization</li>
        </ul>

        <hr>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Installing Or Updating',
            level: 'h2',
        } only %}
        <p>Installing and updating Ansel is very easy.</p>

        <ul>
            <li>Download the Ansel zip file and unzip it</li>
            <li>
                Copy system/user/addons/ansel to the same directory location in your EE instance
                <ul>
                    <li>If you are updating, replace the existing ansel directory</li>
                </ul>
            </li>
            <li>
                Copy themes/user/ansel to the same directory location in your EE instance
                <ul>
                    <li>If you are updating, replace the existing ansel directory</li>
                </ul>
            </li>
            <li>Log in to your EE control panel and navigate to the Add-on Manager</li>
            <li>Scroll down to the "Third Party" section, locate "Ansel" in the list and click "Install" or "Update"</li>
        </ul>

        <p>Ansel is now installed or updated.</p>

        <hr>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Configuring',
            level: 'h2',
        } only %}

        <p>Ansel has a few settings you may want to look at before diving in to making your Ansel fields.</p>

        <figure>
            <img
                class="w-full"
                src="{{ siteUrl('/assets/img/software/ansel-ee/documentation/ansel-global-settings.png') }}"
                srcset="{{ siteUrl('/assets/img/software/ansel-ee/documentation/ansel-global-settings.png') }} 1x, {{ siteUrl('/assets/img/software/ansel-ee/documentation/ansel-global-settings-2x.png') }} 2x"
                alt="Ansel Global Settings"
            >
            <figcaption>Ansel for ExpressionEngine Settings</figcaption>
        </figure>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'License Key',
            level: 'h3',
        } only %}
        <p>The first thing you will want to do is visit the License page and enter your license key from your purchase.</p>

        <p>The license page can by located by clicking on "Ansel" from the list of Add-ons in the Add-on Manager, then clicking on the "License" link in the sidebar.</p>

        {% embed 'Http/Components/Note.twig' only %}
            {% block heading %}Remember{% endblock %}
            {% block content %}
                <p>You will need a license for each of the sites/public domain names you install Ansel on.</p>
            {% endblock %}
        {% endembed %}

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Global Settings',
            level: 'h3',
        } only %}
        <p>Ansel has a number of other global settings you may wish to take advantage of. To access them, click on "Ansel" from the list of Add-ons in the Add-on Manager.</p>

        {% embed 'Http/Components/Note.twig' only %}
            {% block content %}
                <p>The following settings have config file overrides which you can use to keep your config in your config file.</p>
            {% endblock %}
        {% endembed %}

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Default host',
            level: 'h4',
        } only %}
        <p>This field is blank on new installs. If you wish all image URLs to be served from a CDN (for instance), you can enter a fully qualified URL here.</p>
        <p>The config override item is <code>$config['ansel']['default_host']</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Hide the Upload/Save directory instructions when setting up a new field?',
            level: 'h4',
        } only %}
        <p>Hide the instructions for how to use the Upload/Save directory settings when setting up/editing Ansel fields.</p>
        <p>The config override item is <code>$config['ansel']['hide_source_save_instructions'] = true;</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Default maximum quantity',
            level: 'h4',
        } only %}
        <p>Use this to set a default value for maximum quantity when creating new fields.</p>
        <p>The config override item is <code>$config['ansel']['default_max_qty']</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Default image quality',
            level: 'h4',
        } only %}
        <p>Use this to set a default value for the image quality setting when creating new fields.</p>
        <p>The config override item is <code>$config['ansel']['default_image_quality']</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Default force JPG setting',
            level: 'h4',
        } only %}
        <p>Use this to set newly created fields to default to forcing JPG.</p>
        <p>The config override item is <code>$config['ansel']['default_jpg']</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Default retina mode',
            level: 'h4',
        } only %}
        <p>Use this to set newly created fields to default to retina mode.</p>
        <p>The config override item is <code>$config['ansel']['default_retina']</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Default display title field',
            level: 'h4',
        } only %}
        <p>Use this to set newly created fields to default to show the title field.</p>
        <p>The config override item is <code>$config['ansel']['default_show_title']</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Default require title',
            level: 'h4',
        } only %}
        <p>Use this to set newly created fields to default to require the title field.</p>
        <p>The config override item is <code>$config['ansel']['default_require_title']</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Default customize title label',
            level: 'h4',
        } only %}
        <p>Use this to set newly created fields to have a default value for the title label.</p>
        <p>The config override item is <code>$config['ansel']['default_title_label']</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Default display caption field',
            level: 'h4',
        } only %}
        <p>Use this to set newly created fields to default to show the caption field.</p>
        <p>The config override item is <code>$config['ansel']['default_show_caption']</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Default require caption',
            level: 'h4',
        } only %}
        <p>Use this to set newly created fields to default to require the caption field.</p>
        <p>The config override item is <code>$config['ansel']['default_require_caption']</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Default customize caption label',
            level: 'h4',
        } only %}
        <p>Use this to set newly created fields to have a default value for the caption label.</p>
        <p>The config override item is <code>$config['ansel']['default_caption_label']</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Default display cover field',
            level: 'h4',
        } only %}
        <p>Use this to set newly created fields to default to show the cover field.</p>
        <p>The config override item is <code>$config['ansel']['default_show_cover']</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Default require cover',
            level: 'h4',
        } only %}
        <p>Use this to set newly created fields to default to require the cover field.</p>
        <p>The config override item is <code>$config['ansel']['default_require_cover']</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Default customize cover label',
            level: 'h4',
        } only %}
        <p>Use this to set newly created fields to have a default value for the cover label.</p>
        <p>The config override item is <code>$config['ansel']['default_cover_label']</code>.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'Config file only options',
            level: 'h3',
        } only %}
        <p>There are a couple of configuration options that can only be set in the config file.</p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'optimizerShowErrors',
            level: 'h4',
        } only %}
        <p>Normally the optimizer for <code>jpegoptim</code>, <code>gifsicle</code>, and <code>optipng</code> will fail silently. However, it can sometimes be useful to know if something is going wrong &mdash; for instance, when you install the tools on your server and want to make sure they are working. If the optimizer is not able to find the tools or they return an error code when trying to optimize the image, when this config setting is set to true, the optimizer will throw an error for you to see.</p>
        <p><code>$config['ansel']['optimizerShowErrors'] = true;</code></p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'disableOptipng',
            level: 'h4',
        } only %}
        <p>Disables <code>optipng</code> optimization.</p>
        <p><code>$config['ansel']['disableOptipng'] = true;</code></p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'disableJpegoptim',
            level: 'h4',
        } only %}
        <p>Disables <code>jpegoptim</code> optimization.</p>
        <p><code>$config['ansel']['disableJpegoptim'] = true;</code></p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'disableGifsicle',
            level: 'h4',
        } only %}
        <p>Disables <code>gifsicle</code> optimization.</p>
        <p><code>$config['ansel']['disableGifsicle'] = true;</code></p>

        {% include 'Http/DocumentationComponents/AnchorHeading.twig' with {
            heading: 'forceGD',
            level: 'h4',
        } only %}
        <p>Forces Ansel to use <a href="http://php.net/manual/en/book.image.php">GD</a> image processing for manipulating images. Normally, Ansel will auto-detect if <a href="https://www.imagemagick.org">ImageMagick</a> is installed/setup with PHP and use it for manipulating images. If for whatever reason you would like to force Ansel to use GD even though ImageMagick is available, make this setting <code>true</code>.</p>
        <p><code>$config['ansel']['forceGD'] = true;</code></p>
    {% endapply %}
{% endblock %}
